---
title: Getting started
description: Getting started with DDBKit!
sidebar:
  order: 2
---

import { Aside, FileTree, Code, LinkButton } from '@astrojs/starlight/components';
import botSwift from "/src/examples/Bot.swift?raw";
import packageInitOutput from "/src/examples/package-init-output.sh?raw";

This will guide you through the basics of setting up DDBKit and your bot. By the end,
we should have something that can connect to Discord, and you can work from there afterward.

## Prerequisites
* A decent understanding of the Swift programming language.
* Something that can compile Swift code. macOS and Linux are preferred.
Get Swift [here](https://www.swift.org/install/).

<Aside type="tip">
<span>
<span>On macOS, using Xcode for DDBKit development is recommended.<br></br>
It offers Swift-oriented features to make editing code easier.<br></br>
For easier version management, it is recommended that you use</span>
<LinkButton
  href="https://github.com/XcodesOrg/XcodesApp/releases/latest"
  variant="minimal"
  target="_blank"
  icon="external"
  iconPlacement="end"
  class="inline-external-link"
>
  <span>Xcodes.</span>
</LinkButton>
</span>
</Aside>

## Making our directory and package
We need to set up our bot's directory. Open a terminal and copy and
paste the following command.
```sh
mkdir MyNewBot && cd MyNewBot
```
`mkdir` makes a folder, `cd` changes the terminal to that folder.
Now that we're in the folder, we can create our `Package.swift` file.
Copy and paste the following command.
<Code class="dir-my-new-bot" lang="sh" code={packageInitOutput} />
We now have a `Package.swift`. This just kind of tells Swift how to
run our program, a bot in this case. The defaults aren't exactly
what we need, so copy and paste the following code into `Package.swift`.
```swift
let package = Package(
  name: "MyNewBot",
  platforms: [
    .macOS(.v13)
  ],
  dependencies: [
    .package(url: "https://github.com/llsc12/DDBKit", exact: "0.1.4"), // change this to latest ver
  ],
  targets: [
    // Targets are the basic building blocks of a package, defining a module or a test suite.
    // Targets can depend on other targets in this package and products from dependencies.
    .executableTarget(
      name: "MyNewBot",
      dependencies: [
        .product(name: "DDBKit", package: "DDBKit"),
        .product(name: "Database", package: "DDBKit"),
        .product(name: "DDBKitUtilities", package: "DDBKit"),
        .product(name: "DDBKitFoundation", package: "DDBKit"),
      ]
    ),
  ]
)
```

## Creating our entry point
The entry point file is where the bot will be configured (token, intents, 
etc.) and what to do when the bot is ready. You can name this anything
but `main.swift`. We will just go with `Bot.swift` here.

The command you ran earlier has already made a `Sources/main.swift` file.
Rename this to your choice and copy and paste the following code into it.

export const highlights = ['token: "Token Here"', 'intents: [.messageContent, .guildMessages]'];

<Code code={botSwift} lang="swift" title="Bot.swift" mark={highlights} />

Change the token to your bot's token, and if any, specify 
the intents you need in `intents` under `BotGatewayManager`.

<Aside type="note">
You can invite your bot, change your token, and manage intents at
the [Discord developer portal](https://discord.com/developers/applications).
</Aside>

<Aside type="danger">
**Do not share your token.** This is what you use to
login to your bot. What your bot does is your responsibility.
If anyone gets access to your bot, they can spam the API,
abuse permissions (ban people) and more.

**In the case that you have committed your token or shared it**
reset your token immediately. GitHub will tell Discord to reset
it and disable the token if found on a public repo.
</Aside>

## Organisation
The best way to organise your code is to extend your bot's structure with a computed variable for groups of commands/events.
Begin by making a new directory named `Commandsâ€‚andâ€‚Events` or whatever suits your needs.

Make a new swift file, naming it appropriately. Use the following code to get started.
```swift
import DDBKit
import DDBKitUtilities

extension MyNewBot {
  var coolCommandGroup: Group {
    Group {
      Command("pong") { i,_,_ in
        try? await bot.createInteractionResponse(to: i, "Ping!")
      }
    }
  }
}
```


Your final directory structure should look a little like this:

<FileTree>
- Package.swift
- Sources
  - Commandsâ€‚andâ€‚Events
    - TestCommands.swift
    - ...
  - Bot.swift
</FileTree>

As such, you can continue organising your code in a similar fashion or in any way you desire.

Your bot is now ready to build and run, good job ðŸŽ‰